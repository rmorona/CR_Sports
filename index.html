<html lang="en">
<head>
  <title>NBA Project</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <style>
  body {
    background-color: #E8E8E8;
  }
  .jumbotron {
    height: 700px;
      background: url("background.jpg") no-repeat center center fixed;
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
      padding: 100px 25px;
      color: #ffffff;
      font-family: Montserrat, sans-serif;
  }
  h2 {
    color:#FF0000;
  }
  a:link {
    color: red;
    background-color: transparent;
    text-decoration: none;
  }
  a:visited {
    color: red;
    background-color: transparent;
    text-decoration: none;
  }
  a:hover {
    color: black;
    background-color: transparent;
    text-decoration: underline;
  }
  #customers {
    font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
    border-collapse: collapse;
    width: 70%;
  }
  #customers td, #customers th {
    border: 1px solid #ddd;
    padding: 8px;
  }
  #customers tr:nth-child(even){background-color: #f2f2f2;}
  #customers tr:hover {background-color: #ddd;}
  #customers th {
    padding-top: 12px;
    padding-bottom: 12px;
    text-align: left;
    background-color: #0c47d1;
    color: white;
  }

  </style>
</head>
<body>

  <div class="jumbotron text-center">
	<h1><br><br> Basketball Data Science Project <br><sub> <font size="5"> Rosa Morona and Charles Webb </font></sub></h1>
	<br><br>
  </div>
  <div id="header">
    <div style='float:left'>
      <div style="margin-left:45px;">
        <img src="nba-logo.jpg" width="600" height="500">
      </div>
    </div>
    <div align='center'>
        <table>
         <tr><td><br></td></tr>
         <tr><td><br></td></tr>
         <tr><td><br></td></tr>
         <tr><td><br></td></tr>
         <tr><td><br></td></tr>
         <th align='center'> <font size="8">Table of Content </font></th>
         <tr><td><br></td></tr>
         <tr><td><br></td></tr>
         <tr><td><br></td></tr>
          <tr>
            <td>
              <a href='#statement'> <font size="5">Problem Statement and Motivation</font></a>
            </td>
          </tr>
          <tr><td><br></td></tr>
          <tr>
            <td>
              <a href='#description'> <font size="5">Introduction and Description of Data </font></a>
            </td>
          </tr>
          <tr><td><br></td></tr>
          <tr>
            <td>
              <a href='#literature'><font size="5">Literature Review/Related Work</font></a>
            </td>
          </tr>
          <tr><td><br></td></tr>
          <tr>
            <td>
              <a href='#modeling'><font size="5">Modeling Approach and Project Trajectory</font></a>
            </td>
          </tr>
          <tr><td><br></td></tr>
          <tr>
            <td>
              <a href='#conclusion'><font size="5">Results, Conclusions, and Future Work</font></a>
            </td>
          </tr>
          <tr> </tr>
          <tr> </tr>
          <tr><td><br></td></tr>
          <tr><td><br></td></tr>
          <tr><td><br></td></tr>
          <tr><td><br></td></tr>
          <tr><td><br></td></tr>
        </table>
    </div>
  </div>

  <div id="statement" class="container-fluid bg-grey">
  <div style="margin-left:45px;">
  <div style="margin-right:45px;">
  <div class="row">
      <h2 color="red">Problem Statement and Motivation</h2><br>
      <p style="font-size:140%;"> Using a Win Percentage Model (WPM), how does the performance of teams in the National
        Basketball Association change with different coaches?
      </p><br>
  </div>
  </div>
  </div>
  </div>

  <div id="description" class="container-fluid bg-grey">
  <div style="margin-left:45px;">
  <div style="margin-right:45px;">
  <div class="row">
      <h2>Introduction and Description of Data</h2><br>
      <p style="font-size:140%;"> The problem is important because coaches are an integral part of a
        basketball team. With this project, we are interested in determining
        and quantifying the amount of impact the coaches actually have on a team.
        We will approach this by comparing the influence of different coaches on
        the same team. We had many other ideas for projects that we could, but
        ultimately decided to focus on the coaches based on the relevance that
        we found by doing some initial EDA and modelling.
      </p><br>
  </div>
  </div>
  </div>
  </div>

  <div id="literature" class="container-fluid bg-grey">
  <div style="margin-left:45px;">
  <div style="margin-right:45px;">
  <div class="row">
      <h2>Literature Review/Releted Work</h2><br>
      <p style="font-size:140%">
        Below is a list of resources that we consulted for inspiration and had
        great impact on the way we structured the sports project.</p>
      <p style="font-size:140%">
        <a href="http://homepage.divms.uiowa.edu/~dzimmer/sports-statistics/nettletonandlock.pdf">
        Using Random Forest to Estimate Win Probability Before Each Play of An
        NFL Game by Dennis Lock and Dan Nettleton: </a> the paper shaped the way that
        we built the dataframe on our jupyter notebook and the model that we used
        to create the Win Probability, despite being applied to the National
        Football League. As variables they had the difference in the score between
        the team, the seconds remaining in the game, time timeout remaining for
        each team, and other variables that are not relevant for the case of basketball.
        We will see in the subsequent section that our predictors are built in a
        similar manner. We also decided to similarly use random forest as our
        model to predict the Win Probability. This is because they provided
        compelling reasons to use it, such as the easiness of interpretability,
        and had success in making their predictions for the play-by-play data of
        NFL games.</p>

      <p style="font-size:140%">
        <a href="http://www-stat.wharton.upenn.edu/~stjensen/papers/shanejensen.basketball2016.pdf">
        Estimating an NBA’s Player’s Impact on His Team’s Chances of Winning by
        Sameer K. Deshpande and Shane Jensen:</a> the research paper raises the concern
        that because many models trying to predict the outcome of games do not take
        into consideration the context in which players perform, they often result in
        inaccurate conclusions on how teams actually win games. They propose an new win
        probability that models also the impact each individual player on the field has
        on the team. This was something that we were considering expanding on our baseline
        model, but ultimately decided to pursue a different implementation. We would
        definitely consider in the future to improve the accuracy of our model.</p>

      <p style="font-size:140%">
        <A HREF="https://statsbylopez.com/2017/03/08/all-win-probability-models-are-wrong-some-are-useful/">
        All Win Probability Models Are Wrong - Some Are Useful by StatsbyLopez: </A> we
        consulted this website to learn more about Win Probability, even though it
        is applied to the National Football League. The study compared various different
        models to predict the Win Probability using play-by-play data. While it
        did not have a practical effect on our project, it made us conscious that
        there are various ways that we can do it, with some being more accurate than others.
      </p><br>
  </div>
  </div>
  </div>
</div>

  <div id="modeling" class="container-fluid bg-grey">
  <div style="margin-left:45px;">
  <div style="margin-right:45px;">
  <div class="row">
      <h2>Modeling Approach and Project Trajectory</h2><br>
      <p style="font-size:140%"> In this section we will present our methodology for
        scraping the necessary data, the process for EDA, the baseline model we
        decided to use, and finally, further implementations we made to the baseline
        model. Along the way, we will also present some of the challenges changes in
        our strategy that we faced.
      </p><br>
      <p style="font-size:140%"><b><u> Scraping the data </u></b></p>
      <p style="font-size:140%">
        We began our project by exploring the website with the play-by-play data, which
        was initially of type string. Our first instinct was to scrape the website, access
        the data within the main table, and populate our dataframe with columns that
        uniquely represented each possible event in the game. For example, we initially
        had columns for the offensive rebound, defensive rebounds, foul type, and so on.
        As we brainstormed more, we realized that we should structure our dataframe so that
        each row represented the context of the game, rather than just recording each event.
        For example, instead of having one column devoted to away timeouts that would only
        change in value for the one second that the away team called a timeout, we created
        a column to record how many time outs the away team had remaining at that point in
        the game. Similarly we created columns for recording home and away shooting
        percentages, point streaks, and much more. These columns proved to be more useful
        for training and evaluating a model. In the end, we added the dependent column,
        which placed 1 for the rows where the away team won the game and 0 for those rows
        that the home team won the game. Below is the full list of predictors we created
        in our dataframe:
      </p><br>
      <p style="font-size:100%">
        <table id="customers">
          <tr>
            <th> Variable Name </th>
            <th> Variable Description </th>
          </tr>
          <tr>
            <td> awayscore </td>
            <td> Score of the away team </td>
          </tr>
          <tr>
            <td> homescore </td>
            <td> Score of the home team </td>
          </tr>
          <tr>
            <td> away_makes_3-pt </td>
            <td> indicator variable for 3-pt shots </td>
          </tr>
          <tr>
            <td> home_makes_3-pt </td>
            <td> indicator variable for 3-pt shots </td>
          </tr>
          <tr>
            <td> away_rebound </td>
            <td> Number of rebounds from away team </td>
          </tr>
          <tr>
            <td> home_rebound </td>
            <td> Number of rebounds from home team </td>
          </tr>
          <tr>
            <td> away_foul </td>
            <td> Number of fouls of away team </td>
          </tr>
          <tr>
            <td> home_foul </td>
            <td> Number of fouls of home team </td>
          </tr>
          <tr>
            <td> away_percentage </td>
            <td> percentage of shots made of total shots tried by away team </td>
          </tr>
          <tr>
            <td> home_percentage </td>
            <td> percentage of shots made of total shots tried by home team </td>
          </tr>
          <tr>
            <td> TOR_away </td>
            <td> Time outs remaining for away team </td>
          </tr>
          <tr>
            <td> TOR_home </td>
            <td> Time outs remaining for home team </td>
          </tr>
          <tr>
            <td> away_streak </td>
            <td> Number of away team made shots when home team did not do any    </td>
          </tr>
          <tr>
            <td> home_streak </td>
            <td> Number of home team made shots when away team did not do any    </td>
          </tr>
          <tr>
            <td> total_time </td>
            <td> Time remaining in the game </td>
          </tr>
          <tr>
            <td> game_id </td>
            <td> Assigned number to each game to keep track </td>
          </tr>
        </table>
      </p>
  </div>
  </div>
  </div>
  </div>

  <div id="conclusion" class="container-fluid bg-grey">
  <div style="margin-left:45px;">
  <div style="margin-right:45px;">
  <div class="row">
      <h2 color="red"> Results, Conclusions, and Future Work </h2><br>
      <p style="font-size:140%;"> TO DO
      </p><br>
  </div>
  </div>
  </div>
  </div>
</body>
</html>
